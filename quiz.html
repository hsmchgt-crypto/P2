<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  google-site-verification: google74a1e6b1eb015182.html
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø§Ø®ØªØ¨Ø± Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø§Ù„Ø¹Ø§Ù…Ø© - Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
<style>
@keyframes gradientBG {0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}
body{font-family:'Cairo',sans-serif;margin:0;padding:20px;min-height:100vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(-45deg,#FFDEE9,#B5FFFC,#FFFCB5,#FFC6FF);background-size:400% 400%;animation:gradientBG 15s ease infinite;color:#333;}
.quiz-container{background:rgba(255,255,255,0.95);padding:30px;border-radius:25px;max-width:700px;width:90%;box-shadow:0 15px 40px rgba(0,0,0,0.25);animation:fadeIn 1s;}
h1{color:#0077ff;margin-bottom:20px;text-align:center;}
.question{font-weight:bold;margin:20px 0 10px 0;font-size:18px;}
.answers label{display:block;background:#eef2ff;padding:15px;margin:10px 0;border-radius:15px;cursor:pointer;transition:0.3s;font-size:16px;box-shadow:0 4px 10px rgba(0,0,0,0.1);}
.answers label:hover{background:#dce6ff;transform:scale(1.03);}
.correct{background:#c6f6d5 !important;box-shadow:0 0 10px #28a745;}
.wrong{background:#feb2b2 !important;box-shadow:0 0 10px #e53e3e;}
button{background:#0077ff;color:white;padding:12px 25px;border:none;border-radius:15px;margin-top:20px;cursor:pointer;transition:0.3s;font-size:16px;display:block;margin:auto;}
button:hover{background:#005ed9;transform:scale(1.05);}
#result{margin-top:20px;font-size:1.3em;font-weight:bold;text-align:center;}
.progress-container{background:#eee;border-radius:20px;margin-top:20px;height:20px;width:100%;overflow:hidden;}
.progress-bar{height:100%;width:0%;background:#0077ff;border-radius:20px;transition:width 0.5s;}
.timer{font-size:18px;font-weight:bold;color:#ff4500;text-align:center;margin-bottom:15px;}
@keyframes fadeIn{0%{opacity:0;}100%{opacity:1;}}
</style>
</head>
<body>

<div class="quiz-container">
<h1 id="quizTitle">ğŸ“ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h1>
<div class="timer" id="timer">â° 15 Ø«Ø§Ù†ÙŠØ© Ù…ØªØ¨Ù‚ÙŠØ©</div>
<form id="quizForm"></form>
<button id="submitBtn" onclick="checkAnswers()">Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø©</button>
<div class="progress-container">
<div class="progress-bar" id="progressBar"></div>
</div>
<div id="result"></div>
</div>

<script>
const currentUser = localStorage.getItem('currentUser');
if(!currentUser){window.location.href="login.html";}

const urlParams = new URLSearchParams(window.location.search);
const category = urlParams.get('category')||'science';
document.getElementById('quizTitle').textContent=`ğŸ“ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± - ${category}`;

const questionsData = {
  science:[{q:"Ù…Ø§ Ù‡Ùˆ Ø£ÙƒØ¨Ø± ÙƒÙˆÙƒØ¨ØŸ",options:["Ø§Ù„Ø£Ø±Ø¶","Ø§Ù„Ù…Ø´ØªØ±ÙŠ","Ø²Ø­Ù„"],answer:1},{q:"Ø±Ù…Ø² Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ†ØŸ",options:["H","He","Fe"],answer:0}],
  history:[{q:"Ø£ÙˆÙ„ Ø±Ø¦ÙŠØ³ Ù„Ù„ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ù…ØªØ­Ø¯Ø©ØŸ",options:["Ø¬ÙˆØ±Ø¬ ÙˆØ§Ø´Ù†Ø·Ù†","Ù„ÙŠÙ†ÙƒÙˆÙ„Ù†","ØªÙˆÙ…Ø§Ø³ Ø¬ÙŠÙØ±Ø³ÙˆÙ†"],answer:0},{q:"Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø­Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ø«Ø§Ù†ÙŠØ©ØŸ",options:["1939","1914","1945"],answer:0}],
  sports:[{q:"Ø¹Ø¯Ø¯ Ù„Ø§Ø¹Ø¨ÙŠ ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…ØŸ",options:["11","9","10"],answer:0},{q:"ÙØ§Ø¦Ø² ÙƒØ£Ø³ Ø§Ù„Ø¹Ø§Ù„Ù… 2018ØŸ",options:["Ø£Ù„Ù…Ø§Ù†ÙŠØ§","ÙØ±Ù†Ø³Ø§","Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„"],answer:1}],
  technology:[{q:"Ù…Ø¹Ù†Ù‰ AIØŸ",options:["Artificial Intelligence","Automatic Input","Applied Innovation"],answer:0},{q:"Ø£ÙƒØ«Ø± Ù†Ø¸Ø§Ù… ØªØ´ØºÙŠÙ„ Ù„Ù„Ù‡ÙˆØ§ØªÙØŸ",options:["Android","iOS","Windows Phone"],answer:0}]
};

const quizForm=document.getElementById('quizForm');
const currentQuestions=questionsData[category];

let timePerQuestion = 15; // 15 Ø«Ø§Ù†ÙŠØ© Ù„ÙƒÙ„ Ø³Ø¤Ø§Ù„
let currentQuestionIndex = 0;
let score = 0;

function showQuestion(index){
  if(index >= currentQuestions.length){
    finishQuiz();
    return;
  }
  quizForm.innerHTML = '';
  const question = currentQuestions[index];
  const divQ = document.createElement('div'); divQ.classList.add('question'); divQ.textContent=`${index+1}. ${question.q}`; quizForm.appendChild(divQ);
  const divA = document.createElement('div'); divA.classList.add('answers');
  question.options.forEach((opt,i)=>{
    const label = document.createElement('label'); 
    label.innerHTML=`<input type="radio" name="q" value="${i}"> ${opt}`;
    label.onclick = ()=>{ checkAnswer(i, question.answer, label); };
    divA.appendChild(label);
  });
  quizForm.appendChild(divA);
  startTimer();
}

function startTimer(){
  let time = timePerQuestion;
  const timerEl = document.getElementById('timer');
  timerEl.textContent = `â° ${time} Ø«Ø§Ù†ÙŠØ© Ù…ØªØ¨Ù‚ÙŠØ©`;
  const timerInterval = setInterval(()=>{
    time--;
    timerEl.textContent = `â° ${time} Ø«Ø§Ù†ÙŠØ© Ù…ØªØ¨Ù‚ÙŠØ©`;
    if(time<=0){
      clearInterval(timerInterval);
      currentQuestionIndex++;
      showQuestion(currentQuestionIndex);
    }
  },1000);
}

function checkAnswer(selected, correct, label){
  if(selected===correct){label.classList.add('correct'); score++;}
  else{label.classList.add('wrong');}
  currentQuestionIndex++;
  setTimeout(()=>showQuestion(currentQuestionIndex),800);
}

function finishQuiz(){
  // Ø­ÙØ¸ Ø§Ù„Ù†ØªÙŠØ¬Ø©
  const users = JSON.parse(localStorage.getItem('user_'+currentUser));
  if(users){
    users.scores.push({category: category, score: score, date: new Date().toLocaleString()});
    localStorage.setItem('user_'+currentUser, JSON.stringify(users));
  }
  // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù…Ø¨Ø§Ø´Ø±Ø© Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬
  window.location.href = "results.html";
}


showQuestion(currentQuestionIndex);
</script>

</body>
</html>
